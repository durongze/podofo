cmake_minimum_required(VERSION 2.4.4)

project(lua)

set(VERSION "5.4.4")

file(GLOB LUA_LIB_SRCS RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR}/src/*.c)

list(REMOVE_ITEM ${LUA_LIB_SRCS} src/lua.c src/luac.c)

message("LUA_LIB_SRCS ${LUA_LIB_SRCS}")

add_library(liblua STATIC ${LUA_LIB_SRCS})

add_executable(lua STATIC ${LUA_LIB_SRCS} src/lua.c)

add_executable(luac STATIC ${LUA_LIB_SRCS} src/luac.c)